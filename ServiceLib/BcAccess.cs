using System;
using System.Linq;
using Renci.SshNet;
using ServiceLib.Contracts;
using ServiceLib.Contracts.BlockChainExchangeService;

namespace BlockChain.Integration
{
    public class BcAccess : IBlockChainExchangeService
    {

        //string account1 = "0xa2081622fcc99aec3c1efb575b548c90bdadf8cf";
        //string account2 = "0x052125e58ee311993185419d9323d4092fddc656";

        string userName = "deathys";
        string pass = "XSW@zaq1";

        //string gethUrl = "http://localhost:8545";
        string hostUrl = "13.76.171.171";

        string creatorAddress = "0xe5855503e18317cfc775cf899f415ae60bce7189";
        //string creatorAbiDefinition = "[{\"constant\":false,\"inputs\":[{\"name\":\"x\",\"type\":\"address\"}],\"name\":\"toString\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"response\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"id\",\"type\":\"uint256\"},{\"name\":\"_response\",\"type\":\"bytes\"}],\"name\":\"__tinyOracleCallback\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"acc\",\"type\":\"address\"},{\"name\":\"balance\",\"type\":\"uint256\"}],\"name\":\"addAccount\",\"outputs\":[{\"name\":\"balance2\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"receiver\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"},{\"name\":\"callbackUrl\",\"type\":\"string\"}],\"name\":\"sendCoin\",\"outputs\":[{\"name\":\"sufficient\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"query\",\"type\":\"bytes\"}],\"name\":\"query\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"acc\",\"type\":\"address\"}],\"name\":\"getAccount\",\"outputs\":[{\"name\":\"balance\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[],\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"receiver\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"CoinTransfer\",\"type\":\"event\"}]";
        string trackerAbiDefinition = @"[{""constant"":false,""inputs"":[],""name"":""CloseCreditDeal"",""outputs"":[],""payable"":false,""type"":""function""},{""constant"":false,""inputs"":[{""name"":""x"",""type"":""address""}],""name"":""toString"",""outputs"":[{""name"":"""",""type"":""string""}],""payable"":false,""type"":""function""},{""constant"":true,""inputs"":[],""name"":""response"",""outputs"":[{""name"":"""",""type"":""bytes""}],""payable"":false,""type"":""function""},{""constant"":false,""inputs"":[{""name"":""id"",""type"":""uint256""},{""name"":""_response"",""type"":""bytes""}],""name"":""__tinyOracleCallback"",""outputs"":[],""payable"":false,""type"":""function""},{""constant"":false,""inputs"":[{""name"":""query"",""type"":""bytes""}],""name"":""query"",""outputs"":[],""payable"":false,""type"":""function""},{""constant"":false,""inputs"":[],""name"":""test"",""outputs"":[{""name"":""data"",""type"":""string""}],""payable"":false,""type"":""function""},{""inputs"":[{""name"":""urlSender"",""type"":""string""},{""name"":""urlReceiver"",""type"":""string""},{""name"":""txid"",""type"":""string""},{""name"":""json"",""type"":""string""}],""payable"":false,""type"":""constructor""},{""anonymous"":false,""inputs"":[{""indexed"":false,""name"":""senderUrl"",""type"":""string""},{""indexed"":false,""name"":""reveiverUrl"",""type"":""string""},{""indexed"":false,""name"":""txid"",""type"":""string""},{""indexed"":false,""name"":""receiver"",""type"":""address""}],""name"":""Closed"",""type"":""event""},{""anonymous"":false,""inputs"":[{""indexed"":false,""name"":""sender"",""type"":""address""},{""indexed"":false,""name"":""receiver"",""type"":""string""},{""indexed"":false,""name"":""amount"",""type"":""string""}],""name"":""Created"",""type"":""event""}]";
        string trackerByteCode = "6060604052346200000057604051620019d2380380620019d2833981016040528080518201919060200180518201919060200180518201919060200180518201919060200150505b8360009080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200009557805160ff1916838001178555620000c6565b82800160010185558215620000c6579182015b82811115620000c5578251825591602001919060010190620000a8565b5b509050620000ee91905b80821115620000ea576000816000905550600101620000d0565b5090565b50508160029080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200013e57805160ff19168380011785556200016f565b828001600101855582156200016f579182015b828111156200016e57825182559160200191906001019062000151565b5b5090506200019791905b808211156200019357600081600090555060010162000179565b5090565b50508260019080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620001e757805160ff191683800117855562000218565b8280016001018555821562000218579182015b8281111562000217578251825591602001919060010190620001fa565b5b5090506200024091905b808211156200023c57600081600090555060010162000222565b5090565b50506200036d620003538562000339604060405190810160405280600c81526020017f2f646f63637265617465642f00000000000000000000000000000000000000008152602001506200031f8762000305604060405190810160405280600181526020017f2f00000000000000000000000000000000000000000000000000000000000000815260200150620002eb32620004a56401000000000262000714176401000000009004565b620005a66401000000000262000ced176401000000009004565b620005a66401000000000262000ced176401000000009004565b620005a66401000000000262000ced176401000000009004565b620005a66401000000000262000ced176401000000009004565b620007c36401000000000262000f01176401000000009004565b50620004996200047f8462000465604060405190810160405280600d81526020017f2f646f6372656365697665642f000000000000000000000000000000000000008152602001506200044b620003d830620004a56401000000000262000714176401000000009004565b62000431604060405190810160405280600181526020017f2f0000000000000000000000000000000000000000000000000000000000000081526020015089620005a66401000000000262000ced176401000000009004565b620005a66401000000000262000ced176401000000009004565b620005a66401000000000262000ced176401000000009004565b620005a66401000000000262000ced176401000000009004565b620007c36401000000000262000f01176401000000009004565b505b5050505062000945565b6020604051908101604052806000815260200150602060405190810160405280600081526020015060006014604051805910620004df5750595b908082528060200260200182016040528015505b509150600090505b60148110156200059b578060130360080260020a8473ffffffffffffffffffffffffffffffffffffffff1681156200000057047f0100000000000000000000000000000000000000000000000000000000000000028282815181101562000000579060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053505b8080600101915050620004fb565b8192505b5050919050565b60206040519081016040528060008152602001506020604051908101604052806000815260200150602060405190810160405280600081526020015060206040519081016040528060008152602001506020604051908101604052806000815260200150600060008895508794508451865101604051805910620006275750595b908082528060200260200182016040528015505b50935083925060009150600090505b8551811015620006fc578581815181101562000000579060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000028383806001019450815181101562000000579060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053505b80806001019150506200064a565b600090505b8451811015620007b3578481815181101562000000579060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000028383806001019450815181101562000000579060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053505b808060010191505062000701565b8296505b50505050505092915050565b600060006000731141d57ea99b8a8ce5faf18774d6dbb56deffc2891508173ffffffffffffffffffffffffffffffffffffffff1663321db4d4600060405160200152604051817c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b15620000005760325a03f11562000000575050506040518051906020015090508073ffffffffffffffffffffffffffffffffffffffff1663ed815d8385600060405160200152604051827c010000000000000000000000000000000000000000000000000000000002815260040180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156200090a5780820380516001836020036101000a031916815260200191505b5092505050602060405180830381600087803b15620000005760325a03f11562000000575050506040518051906020015092505b5050919050565b61107e80620009546000396000f360606040523615610070576000357c01000000000000000000000000000000000000000000000000000000009004806309c3b3241461007557806356ca623e146100845780637a7f01a71461010d578063b29f731d14610188578063ed815d83146101b9578063f8a8fd6d14610210575b610000565b346100005761008261028b565b005b346100005761009f6004808035906020019091905050610714565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156100ff5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b346100005761011a610810565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f16801561017a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34610000576101b7600480803590602001909190803590602001908201803590602001919091929050506108ae565b005b346100005761020e600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610a1e565b005b346100005761021d610a2c565b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f16801561027d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b7fea7d4245046c9cd8ea6abe8b2d9e1486f71e4daf7da0306b0a6db158291501d860006001600233604051808060200180602001806020018573ffffffffffffffffffffffffffffffffffffffff1681526020018481038452888181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156103605780601f1061033557610100808354040283529160200191610360565b820191906000526020600020905b81548152906001019060200180831161034357829003601f168201915b50508481038352878181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156103e35780601f106103b8576101008083540402835291602001916103e3565b820191906000526020600020905b8154815290600101906020018083116103c657829003601f168201915b50508481038252868181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156104665780601f1061043b57610100808354040283529160200191610466565b820191906000526020600020905b81548152906001019060200180831161044957829003601f168201915b505097505050505050505060405180910390a16106016105fc60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105155780601f106104ea57610100808354040283529160200191610515565b820191906000526020600020905b8154815290600101906020018083116104f857829003601f168201915b50505050506105f7604060405190810160405280600c81526020017f2f6465616c636c6f7365642f000000000000000000000000000000000000000081526020015060028054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105ed5780601f106105c2576101008083540402835291602001916105ed565b820191906000526020600020905b8154815290600101906020018083116105d057829003601f168201915b5050505050610ced565b610ced565b610f01565b506106f86106f360018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561069e5780601f106106735761010080835404028352916020019161069e565b820191906000526020600020905b81548152906001019060200180831161068157829003601f168201915b50505050506106ee604060405190810160405280600b81526020017f2f646f63636c6f7365642f0000000000000000000000000000000000000000008152602001506106e930610714565b610ced565b610ced565b610f01565b503073ffffffffffffffffffffffffffffffffffffffff16ff5b565b602060405190810160405280600081526020015060206040519081016040528060008152602001506000601460405180591061074d5750595b908082528060200260200182016040528015505b509150600090505b6014811015610805578060130360080260020a8473ffffffffffffffffffffffffffffffffffffffff16811561000057047f01000000000000000000000000000000000000000000000000000000000000000282828151811015610000579060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053505b8080600101915050610769565b8192505b5050919050565b60038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108a65780601f1061087b576101008083540402835291602001916108a6565b820191906000526020600020905b81548152906001019060200180831161088957829003601f168201915b505050505081565b6000731141d57ea99b8a8ce5faf18774d6dbb56deffc2890508073ffffffffffffffffffffffffffffffffffffffff16637e9ba301600060405160200152604051817c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b156100005760325a03f115610000575050506040518051906020015073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561097a57610000565b828260039190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106109c157803560ff19168380011785556109ef565b828001600101855582156109ef579182015b828111156109ee5782358255916020019190600101906109d3565b5b509050610a1491905b80821115610a105760008160009055506001016109f8565b5090565b50505b5b50505050565b610a2781610f01565b505b50565b6020604051908101604052806000815260200150610ce7604060405190810160405280600a81526020017f73656e64657255726c3a00000000000000000000000000000000000000000000815260200150610ce260008054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b165780601f10610aeb57610100808354040283529160200191610b16565b820191906000526020600020905b815481529060010190602001808311610af957829003601f168201915b5050505050610cdd604060405190810160405280600d81526020017f3b726563656976657255726c3a00000000000000000000000000000000000000815260200150610cd860018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610bf15780601f10610bc657610100808354040283529160200191610bf1565b820191906000526020600020905b815481529060010190602001808311610bd457829003601f168201915b5050505050610cd3604060405190810160405280600f81526020017f3b7472616e73616374696f6e49643a000000000000000000000000000000000081526020015060028054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610cc95780601f10610c9e57610100808354040283529160200191610cc9565b820191906000526020600020905b815481529060010190602001808311610cac57829003601f168201915b5050505050610ced565b610ced565b610ced565b610ced565b610ced565b90505b90565b60206040519081016040528060008152602001506020604051908101604052806000815260200150602060405190810160405280600081526020015060206040519081016040528060008152602001506020604051908101604052806000815260200150600060008895508794508451865101604051805910610d6d5750595b908082528060200260200182016040528015505b50935083925060009150600090505b8551811015610e3e5785818151811015610000579060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838060010194508151811015610000579060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053505b8080600101915050610d90565b600090505b8451811015610ef15784818151811015610000579060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000283838060010194508151811015610000579060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053505b8080600101915050610e43565b8296505b50505050505092915050565b600060006000731141d57ea99b8a8ce5faf18774d6dbb56deffc2891508173ffffffffffffffffffffffffffffffffffffffff1663321db4d4600060405160200152604051817c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b156100005760325a03f115610000575050506040518051906020015090508073ffffffffffffffffffffffffffffffffffffffff1663ed815d8385600060405160200152604051827c010000000000000000000000000000000000000000000000000000000002815260040180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156110455780820380516001836020036101000a031916815260200191505b5092505050602060405180830381600087803b156100005760325a03f115610000575050506040518051906020015092505b505091905056";

        class EthRpcRes
        {
            public string JsonRpc { get; set; }
            public int Id { get; set; }
            public string Result { get; set; }
        }

        class BcTransSendContratc
        {
            public string from { get; set; }
            public string to { get; set; }
            public string gas { get; set; }
            public string gasPrice { get; set; }
            public string value { get; set; }
            public string data { get; set; }
        }

        public string SendTransaction(string script)
        {
            try
            {
                using (var client = new SshClient(hostUrl, 22, userName, pass))
                {
                    client.Connect();

                    string filename = Guid.NewGuid().ToString().Substring(0, 5);

                    Func<string, string> toFile = (str) =>
                    {
                        return "echo '" + str.Replace("'", @"'\''") + "' >> ~/eth_data/" + filename;
                    };

                    Func<string, string> toFile2 = (str) =>
                    {
                        return "echo '" + str.Replace("'", @"'\''") + "' >> ~/eth_data/ex" + filename;
                    };

                    SshCommand comm = null;

                    var lines = script.Split(new[] { Environment.NewLine }, StringSplitOptions.RemoveEmptyEntries);

                    foreach (var line in lines)
                    {
                        comm = client.RunCommand(toFile(line));
                    }

                    comm = client.RunCommand($"geth --exec 'loadScript(\"/home/{userName}/eth_data/{filename}\")' attach ipc:chains/devtest/geth.ipc");

                    client.Disconnect();

                    return comm.Result;
                }
            }
            catch (Exception e)
            {
                return string.Empty;
            }
        }

        //public string SendTransaction(TransactionContract tx)
        //{
        //    var result =  SendTransaction("var token = web3.eth.contract([{\"constant\":false,\"inputs\":[{\"name\":\"x\",\"type\":\"address\"}],\"name\":\"toString\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"response\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"id\",\"type\":\"uint256\"},{\"name\":\"_response\",\"type\":\"bytes\"}],\"name\":\"__tinyOracleCallback\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"acc\",\"type\":\"address\"},{\"name\":\"balance\",\"type\":\"uint256\"}],\"name\":\"addAccount\",\"outputs\":[{\"name\":\"balance2\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"receiver\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"},{\"name\":\"callbackUrl\",\"type\":\"string\"}],\"name\":\"sendCoin\",\"outputs\":[{\"name\":\"sufficient\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"query\",\"type\":\"bytes\"}],\"name\":\"query\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"acc\",\"type\":\"address\"}],\"name\":\"getAccount\",\"outputs\":[{\"name\":\"balance\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[],\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"receiver\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"CoinTransfer\",\"type\":\"event\"}]).at(\"0xe5855503e18317cfc775cf899f415ae60bce7189\");"+
        //        $"var t = token.sendCoin.sendTransaction(\"{tx.Receiver.BcAccountNumber}\", 2, \"http://ethwebapp.azurewebsites.net/setstatus/{{hash}}\", {{from: \"{tx.Payer.BcAccountNumber}\"}});" + Environment.NewLine +
        //        "console.log(t);" + Environment.NewLine);
        //    tx.TransactionId = result.Split(new[] { '\r', '\n' }, StringSplitOptions.RemoveEmptyEntries).First(s => s.StartsWith("0x"));
        //    IOC.Resolve<IStorageService>().ReceiveTransaction(tx);
        //    return tx.TransactionId;
        //}

        public void CreateDoc(CreateDocContract request)
        {
            //var result = SendTransaction("var token = web3.eth.contract(" + creatorAbiDefinition + ").at(\"" + creatorAddress + "\");" +
            //    $"var t = creator.createTransfer.sendTransaction(\"{request.BicFrom}\", \"{request.BicTo}\", \"{request.DocOriginalId}\", \"{request.DocSerialized}\", {{from: \"eth.accounts[0]\"}});" + Environment.NewLine +
            //    "console.log(t);" + Environment.NewLine);
            //tx.TransactionId = result.Split(new[] { '\r', '\n' }, StringSplitOptions.RemoveEmptyEntries).First(s => s.StartsWith("0x"));

            var str =
@"var urlSender = """ + request.BicFrom + @""";" + Environment.NewLine +
@"var urlReceiver = """ + request.BicTo + @"""; " + Environment.NewLine +
@"var txid = """ + request.DocOriginalId + @"""; " + Environment.NewLine +
@"var json = """ + request.DocSerialized + @"""; " + Environment.NewLine +
@"var trackerContract = web3.eth.contract(" + trackerAbiDefinition + @");" + Environment.NewLine +
"var tracker = trackerContract.new(" +
   "urlSender," +
   "urlReceiver," +
   "txid," +
   "json," +
   "{" +
     "from: web3.eth.accounts[0], " +
     "data: '" + trackerByteCode + "'," +
     "gas: '4700000'" +
   "}, function (e, contract){" +
    "console.log(e, contract);" +
    "if (typeof contract.address !== 'undefined') {" +
         "console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);" +
    "}" +
" });" + Environment.NewLine;
            str += "admin.sleepBlocks(2);" + Environment.NewLine;
            //str += "tracker.test.sendTransaction({from: eth.accounts[0]});" + Environment.NewLine;
            str += "console.log(tracker);" + Environment.NewLine;

            //str = "eth.accounts[0]" + Environment.NewLine;

            var result = SendTransaction(str);
        }

        public void CloseDeal(CloseDealContract request)
        {
            var result = SendTransaction("var token = web3.eth.contract(" + trackerAbiDefinition + ").at(\"" + request.smartcontractaddr + "\");" +
                $"var t = creator.CloseCreditDeal.sendTransaction({{from: \"eth.accounts[0]\"}});" + Environment.NewLine +
                "console.log(t);" + Environment.NewLine);
        }

        //public void AddBank(AddBankContract request)
        //{
        //    //var result = SendTransaction("var token = web3.eth.contract(" + creatorAbiDefinition + ").at(\"" + creatorAbiDefinition + "\");" +
        //    //    $"var t = creator.AddBank.sendTransaction(\"{request.Bic}\", \"{request.ApiHost}\", {{from: \"eth.accounts[0]\"}});" + Environment.NewLine +
        //    //    "console.log(t);" + Environment.NewLine);
        //}

        //public void DropBank(DropBankContract request)
        //{
        //    //var result = SendTransaction("var token = web3.eth.contract(" + creatorAbiDefinition + ").at(\"" + creatorAbiDefinition + "\");" +
        //    //    $"var t = creator.RemoveBank.sendTransaction(\"{request.Bic}\", {{from: \"eth.accounts[0]\"}});" + Environment.NewLine +
        //    //    "console.log(t);" + Environment.NewLine);
        //}
    }
}
